(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"264":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(2),c=n(274),a=n(6),o=n(598),i=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var l=function(t){function BackTop(){return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,BackTop),function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(BackTop.__proto__||Object.getPrototypeOf(BackTop)).apply(this,arguments))}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(BackTop,a["a"].Component),i(BackTop,[{"key":"render","value":function render(){return r.l.createElement(o.a,null,r.l.createElement(o.a,{"style":"bottom:15%;","onClick":function onClick(){return function toTop(){Object(c.a)({"scrollTop":0,"duration":500})}()},"className":"back-top"}))}}]),BackTop}();l.options={"addGlobalClass":!0}},"270":function(t,e,n){"use strict";n.d(e,"N",function(){return a}),n.d(e,"K",function(){return o}),n.d(e,"L",function(){return i}),n.d(e,"M",function(){return l}),n.d(e,"s",function(){return s}),n.d(e,"H",function(){return u}),n.d(e,"o",function(){return m}),n.d(e,"j",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"f",function(){return y}),n.d(e,"Z",function(){return v}),n.d(e,"C",function(){return h}),n.d(e,"v",function(){return b}),n.d(e,"u",function(){return A}),n.d(e,"t",function(){return g}),n.d(e,"e",function(){return E}),n.d(e,"d",function(){return w}),n.d(e,"Y",function(){return N}),n.d(e,"db",function(){return O}),n.d(e,"Q",function(){return I}),n.d(e,"p",function(){return T}),n.d(e,"E",function(){return k}),n.d(e,"c",function(){return C}),n.d(e,"k",function(){return S}),n.d(e,"V",function(){return D}),n.d(e,"T",function(){return M}),n.d(e,"i",function(){return G}),n.d(e,"x",function(){return _}),n.d(e,"h",function(){return R}),n.d(e,"S",function(){return j}),n.d(e,"m",function(){return L}),n.d(e,"y",function(){return Y}),n.d(e,"I",function(){return Z}),n.d(e,"q",function(){return x}),n.d(e,"R",function(){return W}),n.d(e,"ab",function(){return P}),n.d(e,"r",function(){return z}),n.d(e,"J",function(){return B}),n.d(e,"W",function(){return F}),n.d(e,"U",function(){return U}),n.d(e,"eb",function(){return V}),n.d(e,"cb",function(){return J}),n.d(e,"G",function(){return H}),n.d(e,"g",function(){return Q}),n.d(e,"l",function(){return q}),n.d(e,"w",function(){return X}),n.d(e,"z",function(){return K}),n.d(e,"A",function(){return $}),n.d(e,"X",function(){return tt}),n.d(e,"P",function(){return et}),n.d(e,"D",function(){return nt}),n.d(e,"bb",function(){return rt}),n.d(e,"B",function(){return ct}),n.d(e,"F",function(){return at}),n.d(e,"n",function(){return ot}),n.d(e,"O",function(){return it});var r=n(3),c=n(5),a=function loadActivityss(t){return r.a.httpGql(c.s,t,!0)},o=function loadActivityOfMore(t){return r.a.httpGql(c.i,t,!0)},i=function loadActivityUsers(t){return r.a.httpGql(c.q,t,!0)},l=function loadActivitys(t){return r.a.httpGql(c.r,t,!0)},s=function closeActivity(t,e){return r.a.put("activity/"+t+"/audit",e)},u=function handleCheck(t,e){return r.a.put("activity/switch/check/"+t,e)},m=function cancelEnroll(t,e){return r.a.delete("activity_user?activity_id="+t+"&uid="+e)},p=function activityReports(t){return r.a.httpGql(c.n,t,!0)},f=function activity(t){return r.a.httpGql(c.c,t,!0)},d=function activityByUid(t){return r.a.httpGql(c.d,t)},y=function activityEvaluate(t){return r.a.post("activity_eval",t)},v=function seekHelpEvaluate(t){return r.a.post("seek_help_eval",t)},h=function getCouponYhq(t){return r.a.put("redeem/coupon_yhq/"+t.uid+"/"+t.id)},b=function couponYhqOfCollect(t){return r.a.httpGql(c.tb,t)},A=function couponYhqList(t){return r.a.httpGql(c.G,t)},g=function couponYhqDetail(t){return r.a.httpGql(c.F,t,!0)},E=function activityEvals(t){return r.a.httpGql(c.f,t,!0)},w=function activityEvalById(t){return r.a.httpGql(c.e,t)},N=function seekHelpEvalById(t){return r.a.httpGql(c.Ab,t)},O=function teamAlbumEvalById(t){return r.a.httpGql(c.Rb,t)},I=function praiseForEval(t){return r.a.put("eval_eval/"+t.id+"/like",t)},T=function cancelPraiseForEval(t){return r.a.put("eval_eval/"+t.id+"/dislike",t)},k=function getSignTimes(t){return r.a.httpGql(c.Hb,t)},C=function activityEnroll(t){return r.a.post("activity_user",t)},S=function activitySign(t){return r.a.post("sign_time",t)},D=function regularActivitysEvals(t){return r.a.httpGql(c.wb,t,!0)},M=function regularActivityDetail(t){return r.a.httpGql(c.ub,t,!0)},G=function activityReportMsg(t){return r.a.httpGql(c.k,t,!0)},_=function evalOfActivityReport(t){return r.a.httpGql(c.m,t,!0)},R=function activityReportEval(t){return r.a.httpGql(c.l,t,!0)},j=function praiseForactivityReport(t,e){return r.a.put("activity_report/"+t,e)},L=function addActivityReport(t){return r.a.post("activity_report",t)},Y=function familyConnections(t){return r.a.httpGql(c.X,t)},Z=function hasStore(t){return r.a.httpGql(c.cb,t)},x=function cancelPraiseForUserStore(t,e){return r.a.put("user_store/"+t+"/dislike",e)},W=function praiseForUserStore(t,e){return r.a.put("user_store/"+t+"/like",e)},P=function signForAll(t){return r.a.post("sign_time/signBatch",t)},z=function changeActUserStatus(t){return r.a.post("sign_time/changeStatus",t)},B=function invalidCheckRecord(t,e){return r.a.put("sign_time/"+t,e)},F=function replaceSignTime(t){return r.a.post("sign_time/replacement",t)},U=function regularActivityReports(t){return r.a.httpGql(c.vb,t,!0)},V=function visitActivity(t,e){return r.a.put("wechat_method/"+t+"/visit/activity",e)},J=function subactivity(t){return r.a.post("activity/subactivity",t)},H=function getUserTeams(t){return r.a.httpGql(c.bb,t)},Q=function activityMsg(t){return r.a.get("activity/"+t)},q=function addActivity(t){return r.a.post("activity",t)},X=function editActivity(t,e){return r.a.put("activity/"+t,e)},K=function getActivityForCalendar(t){return r.a.httpGql(c.g,t)},$=function getActivitySimilar(t){return r.a.httpGql(c.j,t,!0)},tt=function reportVisit(t){return r.a.put("wechat_method/activity_report/"+t+"/visit")},et=function navigationActivitys(t){return r.a.httpGql(c.lb,t,!0)},nt=function getReportSimilar(t){return r.a.httpGql(c.xb,t,!0)},rt=function siteActivity(t){return r.a.httpGql(c.h,t,!0)},ct=function getCanEnrollTeams(t){return r.a.httpGql(c.z,t,!t.uid)},at=function getTeamsUsers(t){return r.a.httpGql(c.bc,t)},ot=function auditActEnroll(t,e){return r.a.put("activity_user/"+e+"/audit",t)},it=function loadTimeBankOrgs(t){return r.a.httpGql(c.cc,t)}},"274":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),c=void 0,a=void 0,o=function pageScrollTo(t){var e=t.scrollTop,n=t.duration,o=void 0===n?300:n,i=t.success,l=t.fail,s=t.complete;return new Promise(function(t,n){try{if(void 0===e)throw Error('"scrollTop" is required');var u=document.querySelector(".taro-tabbar__panel")||window;c||(c=u===window?function scrollFunc(t){if(void 0===t)return window.pageYOffset;window.scrollTo(0,t)}:function scrollFunc(t){if(void 0===t)return u.scrollTop;u.scrollTop=t});var m=c(),p=e-m,f=o/17,d=Object(r.g)(r.c,f);!function scroll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=m+p*d(e);if(c(n),e<f)a&&clearTimeout(a),a=setTimeout(function(){scroll(e+1)},17);else{var r={"errMsg":"pageScrollTo:ok"};i&&i(r),s&&s(),t(r)}}()}catch(t){var y={"errMsg":"pageScrollTo:fail "+t.message};l&&l(y),s&&s(),n(y)}})}},"278":function(t,e,n){var r=n(279);"string"==typeof r&&(r=[[t.i,r,""]]);var c={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(262)(r,c);r.locals&&(t.exports=r.locals)},"279":function(t,e,n){(t.exports=n(261)(!1)).push([t.i,".taro-scroll {\n  -webkit-overflow-scrolling: auto;\n}\n\n.taro-scroll::-webkit-scrollbar {\n  display: none;\n}\n\n.taro-scroll-view {\n  overflow: hidden;\n}\n\n.taro-scroll-view__scroll-x {\n  overflow-x: scroll;\n  overflow-y: hidden;\n}\n\n.taro-scroll-view__scroll-y {\n  overflow-x: hidden;\n  overflow-y: scroll;\n}",""])},"290":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAANCAYAAABCZ/VdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTEyLTIzVDA5OjMyOjMyKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wMS0xMFQwOTowODo0MyswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wMS0xMFQwOTowODo0MyswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0NmZiYzBjZS1mODU3LTVmNGItOWY2MS0yYjEzZDMxMmY0YmYiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkNjlhZTBlNC02YWJjLWJkNGMtYTM1My1lZGI3ZTlhZDhhZjciIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNGFkYjdiZi1kYWIwLTExNGItOWZjOS1kYmNiZTgwNmY1MjYiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmY0YWRiN2JmLWRhYjAtMTE0Yi05ZmM5LWRiY2JlODA2ZjUyNiIgc3RFdnQ6d2hlbj0iMjAxOS0xMi0yM1QwOTozMjozMiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NmZiYzBjZS1mODU3LTVmNGItOWY2MS0yYjEzZDMxMmY0YmYiIHN0RXZ0OndoZW49IjIwMjAtMDEtMTBUMDk6MDg6NDMrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6KSexnAAACOUlEQVQ4jYWST0uUURTGf+e+531nJkUHo1VLcdEnEYLACKmlhKJTCC0r+mOUgmVFpcVEtA/cBX2FPkKbVkpKVDbVDL6+7733tNAJM52e1b33uc/vcM890mw2J4FTZrYEbNJDItLLBhgGVmKMo1mWPVQRuWpmwyIy4pxrAJ/+RzhCJ2OMS2Y2amZ470c0z/OaqqKqZ7z3vlKpTANfDkub2VHgE8BcjHFMRFDVj2b2SoeGhuaLori/s7PTF0I4m2WZDAwMzACfDxI2NjYOAw+Y2S1g0jlHjHGzVqtdA95qf39/M8/zyvb29gNVTTqdzli73S5EZAb4vp9SrVYPgmtlWV7x3l/a+4+vMca5TqezCqCtVisAK2maRmAxhFAJIYzLrqaAH13S4ODgfrCGEC5vbW3dABzQBu6q6ss/F8qyBChEZNnMUufcYpIkzszGnXPee9/oFlhfX+/mxMwmRORelmVpkiS5qj4Gnv5VvSiK7joAz8ysNLMlVVURuWBmYmbTwM80TQEEGHfOPQEqQDCz5bIsbx/smdbr9f37HeA5kOZ5vlAURZokyfk0TQWYAn5570/HGJsicizGaMBr59x14J9R6rZlv0pg2Xbnbh6oFEVxzszWROSNc+6RiNTNDFVdFZHZvcw/OgwOkAMrSZJEM1sAqiIyKyIXzex4jJEkSd719fU19l57qPQoA8hF5IWIaIzxDlADqgDOufchhEar1frWI4/GGHv5ObAMeODm3tkHYMI5t9YrCPAbgUwJsGCYQBUAAAAASUVORK5CYII="},"291":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAANCAYAAABCZ/VdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGymlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTEyLTIzVDA5OjMyOjMyKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0yM1QxNzowNjozNCswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNC0yM1QxNzowNjozNCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNjAwNzIzNi03ZDhlLWIzNGQtYmZhMi03N2ZlYjJjZTI1NzciIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1YzcyN2RjYS03YjVhLWMwNGUtODBiOC02YmJlMTQ0YzgwNzEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNGFkYjdiZi1kYWIwLTExNGItOWZjOS1kYmNiZTgwNmY1MjYiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmY0YWRiN2JmLWRhYjAtMTE0Yi05ZmM5LWRiY2JlODA2ZjUyNiIgc3RFdnQ6d2hlbj0iMjAxOS0xMi0yM1QwOTozMjozMiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NmZiYzBjZS1mODU3LTVmNGItOWY2MS0yYjEzZDMxMmY0YmYiIHN0RXZ0OndoZW49IjIwMjAtMDEtMTBUMDk6MDg6NDMrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTYwMDcyMzYtN2Q4ZS1iMzRkLWJmYTItNzdmZWIyY2UyNTc3IiBzdEV2dDp3aGVuPSIyMDIwLTA0LTIzVDE3OjA2OjM0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+BIRnnQAAAiRJREFUOI2N0k9LlFEUx/HvOc/1caZSBrJFC3cR9BLqDQStWrRoU0QIo6hBEW3C/mdFLaI/iG0qiEg0CoLeSgt3QbbIJk0Hx2fufX4tGqPMxs7qnHvu/Vy459r09DTbRBUYBiY69QfgFDC/3cHg7t36FWCsLMurnUsADgHPy7I8DnzsineDJY1IuiapArTMrAnsLsvyYJZlU319fSeBr//Ee3p6toRjjKMxxpvu3gtESQ+BGXd/6e77JR1pNptTZnYCWP9fvAcYSylNdnLlef4auA6sxBjPSXrh7rUY4zFgyd1HgfZf+NLS0u91r6RhSbdCCCHLMsUYZ2KMdWClM5/3QF3SUzPbAZyWtAxcAPQHnuf5Rp5JGpd0x8xcEmb2ysxGzOw7QLvdpgPMSuo3s0d5nve6+1gIYQ24tNWz5EVRjAA3yrL0lJLMbM7MRoDljc2Dg4MbqYBnKaVao9GYTClVyrI8a2aLwINfeK1Wy1qt1miz2bybZVnm7pjZrJkN/w4DLC//UUbgcedpLgO7gIkYYwt4AhBWV1frRVFcd/csxkitVnvb399/Bvi2eUALCwubl9aA+8AeSWNmNuDuV6rVagOYC41G42IIYWcIAeBNURT1xcXFL5sVgH982+/ANX5+3yF331sUxS1J66FSqaxJQtK7EMJ4SmlLeJv4AlwBBiQdTSnty7JsKEi6DRyQdC+l9LmbYGbd2p+A82ZWNbPDIYT5H9Pq+/0IY8pzAAAAAElFTkSuQmCC"},"303":function(t,e,n){"use strict";n(258);var r=n(2),c=n(259),a=n(260),o=n.n(a),i=(n(278),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),l=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):t[e]=n,t}function easeOutScroll(t,e,n){if(t!==e&&"number"==typeof t){var r=e-t,c=500,a=+new Date,o=e>=t;!function step(){t=function linear(t,e,n,r){return n*t/r+e}(+new Date-a,t,r,c),o&&t>=e||!o&&e>=t?n(e):(n(t),requestAnimationFrame(step))}()}}var s=function(t){function ScrollView(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ScrollView);var t=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(ScrollView.__proto__||Object.getPrototypeOf(ScrollView)).apply(this,arguments));return t.onTouchMove=function(t){t.stopPropagation()},t}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(ScrollView,r["l"].Component),l(ScrollView,[{"key":"componentDidMount","value":function componentDidMount(){var t=this;setTimeout(function(){var e=t.props;e.scrollY&&"number"==typeof e.scrollTop&&("scrollWithAnimation"in e?easeOutScroll(0,e.scrollTop,function(e){t.container.scrollTop=e}):t.container.scrollTop=e.scrollTop,t._scrollTop=e.scrollTop),e.scrollX&&"number"==typeof e.scrollLeft&&("scrollWithAnimation"in e?easeOutScroll(0,e.scrollLeft,function(e){t.container.scrollLeft=e}):t.container.scrollLeft=e.scrollLeft,t._scrollLeft=e.scrollLeft)},10)}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(t){var e=this,n=this.props;t.scrollY&&"number"==typeof t.scrollTop&&t.scrollTop!==this._scrollTop&&("scrollWithAnimation"in t?easeOutScroll(this._scrollTop,t.scrollTop,function(t){e.container.scrollTop=t}):this.container.scrollTop=t.scrollTop,this._scrollTop=t.scrollTop),t.scrollX&&"number"==typeof n.scrollLeft&&t.scrollLeft!==this._scrollLeft&&("scrollWithAnimation"in t?easeOutScroll(this._scrollLeft,t.scrollLeft,function(t){e.container.scrollLeft=t}):this.container.scrollLeft=t.scrollLeft,this._scrollLeft=t.scrollLeft),t.scrollIntoView&&"string"==typeof t.scrollIntoView&&document&&document.querySelector&&document.querySelector("#"+t.scrollIntoView)&&document.querySelector("#"+t.scrollIntoView).scrollIntoView({"behavior":"smooth","block":"center","inline":"start"})}},{"key":"render","value":function render(){var t,e=this,n=this.props,a=n.className,l=n.onScroll,s=n.onScrollToUpper,u=n.onScrollToLower,m=n.onTouchMove,p=n.scrollX,f=n.scrollY,d=this.props,y=d.upperThreshold,v=void 0===y?50:y,h=d.lowerThreshold,b=void 0===h?50:h,A=o()("taro-scroll",(_defineProperty(t={},"taro-scroll-view__scroll-x",p),_defineProperty(t,"taro-scroll-view__scroll-y",f),t),a);v=parseInt(v),b=parseInt(b);var g=function throttle(t,e){var n=null;return function(){for(var r=arguments.length,c=Array(r),a=0;a<r;a++)c[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){t.apply(void 0,c)},e)}}(function uperAndLower(t){var n=e.container,r=n.offsetWidth,c=n.offsetHeight,a=n.scrollLeft,o=n.scrollTop,i=n.scrollHeight,l=n.scrollWidth;u&&(e.props.scrollY&&c+o+b>=i||e.props.scrollX&&r+a+b>=l)&&u(t),s&&(e.props.scrollY&&o<=v||e.props.scrollX&&a<=v)&&s(t)},200);return r.l.createElement("div",i({"ref":function ref(t){e.container=t}},Object(c.a)(this.props,["className","scrollTop","scrollLeft"]),{"className":A,"onScroll":function _onScroll(t){var n=e.container,r=n.scrollLeft,c=n.scrollTop,a=n.scrollHeight,o=n.scrollWidth;e._scrollLeft=r,e._scrollTop=c,Object.defineProperty(t,"detail",{"enumerable":!0,"writable":!0,"value":{"scrollLeft":r,"scrollTop":c,"scrollHeight":a,"scrollWidth":o}}),g(t),l&&l(t)},"onTouchMove":function _onTouchMove(t){m?m(t):e.onTouchMove(t)}}),this.props.children)}}]),ScrollView}();e.a=s},"310":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n(2),c=n(6),a=n(598),o=n(599),i=n(303),l=n(14),s=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var n=[],r=!0,c=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){c=!0,a=t}finally{try{!r&&i.return&&i.return()}finally{if(c)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var m=function(t){function ActivityItem(){return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ActivityItem),function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(ActivityItem.__proto__||Object.getPrototypeOf(ActivityItem)).apply(this,arguments))}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(ActivityItem,c["a"].Component),u(ActivityItem,[{"key":"render","value":function render(){var t=this.props,e=t.backUrl,u=t.item,m=t.unfold,p=t.itemList,f=t.useListType,d=c.a.useState({}),y=s(d,2),v=y[0],h=y[1],b=c.a.useState(!1),A=s(b,2),g=A[0],E=A[1],w=function toDetail(t){var n=t.id,r="/activityPages/pages/activity_detail?id="+n+"&backUrl="+e;if("CYCLE"===t.activityType)return r="/activityPages/pages/regular_activity?id="+n+"&backUrl="+e,void Object(l.B)(r);if("CYCLE"===t.activity_type)return r="/activityPages/pages/regular_activity_detail?id="+n+"&backUrl="+e,void Object(l.B)(r);if("NOTPASS"===t.status)r="/activityPages/pages/activity_edit?id="+n;else if(["TOAUDITED","CANCLED"].indexOf(t.status)>-1)return;Object(l.B)(r)},N=function toloadDetail(t){Object(l.B)("/activityPages/pages/regular_activity_detail?id="+t.id)},O=function expand(){E(!g)},I=function onload(){var t={};if(Object.assign(t,u),u&&"CYCLE"!==u.activityType){var e=t.start_time;(function canCheckInOut(t,e,n,r){t=t||"",n=n||"",t=t.replace(/-/g,"/"),n=n.replace(/-/g,"/");var c=Date.now(),a=Date.parse(t),o=Date.parse(n);return c>=a+60*e*1e3&&c<=o+60*r*1e3})(e,-120,e,0)&&(t.status="ENROLLMENT")}h(t),E(m)};c.a.useEffect(function(){I()},[t.unfold]);var T={"CANCLED":{"title":"已取消","className":"cancel"},"ENROLLMENT":{"title":"即将开始","className":"coming-soon"},"FILED":{"title":"已结束","className":"jieshu"},"FILING":{"title":"归档中","className":"account"},"FINISHED":{"title":"结算中","className":"account"},"NOTPASS":{"title":"审核不通过","className":"cancel"},"PUBLIC":{"title":"公示中","className":"gongshi"},"PUBLISHED":{"title":"准备中","className":"coming-soon"},"TOAUDITED":{"title":"待审核","className":"coming-soon"},"UNDERWAY":{"title":"进行中","className":"ing"},"0":{"title":"已关闭","className":"jieshu"},"1":{"title":"开展中","className":"ing"}};return f?p.map(function(t){return r.l.createElement(a.a,{"className":"main-con clear","style":"margin-top: 10px;","key":t.id},r.l.createElement(a.a,{"className":"detail-tags"},r.l.createElement(a.a,{"className":"detail-tags-txt"},t.group?t.group.name||t.group.simple_name:"")),r.l.createElement(a.a,{"className":"user-name-sym padding-t margin-t","onClick":function onClick(){return w(t)}},r.l.createElement(a.a,{"className":"head left"},r.l.createElement(o.a,{"className":"img","src":t.team_logo||t.teamLogo})),r.l.createElement(a.a,{"className":"overflow"},t.organizer_name)),r.l.createElement(a.a,{"className":"activity-sym clear","onClick":function onClick(){return w(t)}},r.l.createElement(a.a,{"className":"cover"},r.l.createElement(a.a,{"className":"cover-tags"},"CYCLE"!==t.activityType?r.l.createElement(r.l.Fragment,null,r.l.createElement(a.a,{"className":"cover-tags-txt"},T[t.status]&&T[t.status].title)):r.l.createElement(r.l.Fragment,null,r.l.createElement(a.a,{"className":"cover-tags-txt"},T[t.activity_status]&&T[t.activity_status].title))),r.l.createElement(o.a,{"className":"img","src":t.picture})),r.l.createElement(a.a,{"className":"detail"},r.l.createElement(a.a,{"className":"title control-2line clear","style":"-webkit-box-orient: vertical;"},t.name),r.l.createElement(a.a,{"className":"date secondry-text"},t.startTime||t.start_time||""))),t.show&&r.l.createElement(r.l.Fragment,null,t&&!t.unfold&&t.cycle_acts&&t.cycle_acts.length>0&&r.l.createElement(i.a,{"scroll-x":!0,"style":"height:108px;white-space:nowrap;"},r.l.createElement(a.a,{"className":"scroll-wrap padding-t clear","style":"width:"+135*(t.cycle_acts.length+1)+"px;"},t.cycle_acts.map(function(t){return r.l.createElement(a.a,{"className":"single left","key":t.id,"onClick":function onClick(){return N(t)}},r.l.createElement(a.a,{"className":"day"},t.dateStr||""),r.l.createElement(a.a,{"className":"time"},t.timeStr||""),"PUBLISHED"==t.status&&r.l.createElement(a.a,{"className":"state"},"准备中"),"ENROLLMENT"==t.status&&r.l.createElement(a.a,{"className":"state"},"即将开始"),"FINISHED"==t.status&&r.l.createElement(a.a,{"className":"state"},"结算中"),"FILED"==t.status&&r.l.createElement(a.a,{"className":"state"},"已结束"),"AUDITED"==t.status&&r.l.createElement(a.a,{"className":"state"},"已审核"),"UNDERWAY"==t.status&&r.l.createElement(a.a,{"className":"state"},"进行中"))}))),t.unfold?r.l.createElement(a.a,{"className":"fold padding-b text-center","onClick":function onClick(){return O()}},"展开",r.l.createElement(o.a,{"className":"icon","src":n(290)})):r.l.createElement(a.a,{"className":"fold padding-b text-center","onClick":function onClick(){return O()}},"收起",r.l.createElement(o.a,{"className":"icon","src":n(291)}))))}):r.l.createElement(a.a,{"className":"main-con clear margin-t"},r.l.createElement(a.a,{"className":"detail-tags"},r.l.createElement(a.a,{"className":"detail-tags-txt"},v.group?v.group.simple_name||v.group.name:"")),r.l.createElement(a.a,{"className":"user-name-sym padding-t margin-t","onClick":function onClick(){return w(v)}},r.l.createElement(a.a,{"className":"head left"},r.l.createElement(o.a,{"className":"img","src":v.teamLogo||v.team_logo})),r.l.createElement(a.a,{"className":"overflow"}," ",v.organizer_name)),r.l.createElement(a.a,{"className":"activity-sym clear","onClick":function onClick(){return w(v)}},r.l.createElement(a.a,{"className":"cover"},r.l.createElement(a.a,{"className":"cover-tags"},"CYCLE"!==v.activityType?r.l.createElement(r.l.Fragment,null,r.l.createElement(a.a,{"className":"cover-tags-txt"},T[v.status]&&T[v.status].title)):r.l.createElement(r.l.Fragment,null,r.l.createElement(a.a,{"className":"cover-tags-txt"},T[v.activity_status]&&T[v.activity_status].title))),r.l.createElement(o.a,{"className":"img","src":v.picture})),r.l.createElement(a.a,{"className":"detail"},r.l.createElement(a.a,{"className":"title control-2line clear","style":"-webkit-box-orient: vertical;"},v.name),r.l.createElement(a.a,{"className":"date secondry-text"},v.startTime||v.start_time||""))),v.show&&r.l.createElement(r.l.Fragment,null,!g&&v&&v.cycle_acts&&v.cycle_acts.length>0&&r.l.createElement(i.a,{"scroll-x":!0,"style":"height:108px;white-space:nowrap;"},r.l.createElement(a.a,{"className":"scroll-wrap padding-t-b clear","style":"width:"+135*(v.cycle_acts.length+1)+"px;"},v.cycle_acts.map(function(t){return r.l.createElement(a.a,{"className":"single left","key":t.id,"onClick":function onClick(){return N(t)}},r.l.createElement(a.a,{"className":"day"},t.dateStr||""),r.l.createElement(a.a,{"className":"time"},t.timeStr||""),"PUBLISHED"==t.status&&r.l.createElement(a.a,{"className":"state"},"准备中"),"ENROLLMENT"==t.status&&r.l.createElement(a.a,{"className":"state"},"即将开始"),"FINISHED"==t.status&&r.l.createElement(a.a,{"className":"state"},"结算中"),"FILED"==t.status&&r.l.createElement(a.a,{"className":"state"},"已结束"),"AUDITED"==t.status&&r.l.createElement(a.a,{"className":"state"},"已审核"),"UNDERWAY"==t.status&&r.l.createElement(a.a,{"className":"state"},"进行中"))}))),!v||!v.cycle_acts||v.cycle_acts.length>0?g?r.l.createElement(a.a,{"className":"fold padding-b text-center","onClick":function onClick(){return O()}},"展开",r.l.createElement(o.a,{"className":"icon","src":n(290)})):r.l.createElement(a.a,{"className":"fold padding-b text-center","onClick":function onClick(){return O()}},"收起",r.l.createElement(o.a,{"className":"icon","src":n(291)})):null))}}]),ActivityItem}();m.options={"addGlobalClass":!0}},"391":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAMAAABgZ9sFAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABRUExURUxpcSt08S938ix39LD8/yx38y119C528jB48bL9/43d+zB48SZv8B9n8MX//6/9/i118afz/bj//0aQ9Dd/8o3Z+z2G80uU9DB371Kc9WSv9wUoVeQAAAALdFJOUwCT1XdmM2Z37ndVEZCoHgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAJcEhZcwAACsMAAArDATQpJKsAAADvSURBVEjH7dXJEoIwDIBhcSvYpg0FEXz/B3WlpAspOh44+F/9JlMDTDeb9XUoymRVWstkqq2Tvpzjxib8Uc5Ot2YfccHx2PM88hke+hw3VcQVKeL+fPHQZKiKuDdfSGhql6k7eHHotKvy+KBJA4zTz1MnwhGbi6tzB0OYKujZ6Q8w/Q2cEtlFevlcudlqAce2G5Mqy+Gi7TttG8jywY4PxC7gEmU7tuAwEhOvDLeZzxbpPaZnyPImDJHbjA67Arf3Oshw/PFJIO2+Kv6dCcMfLvLPv+dF9jqg9YJcTX2eH8htk+c773balmxbscLb/QbkHkNSNTdXEAAAAABJRU5ErkJggg=="},"642":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return E});var r=n(4),c=n.n(r),a=n(2),o=n(6),i=n(274),l=n(598),s=n(599),u=n(303),m=n(29),p=n(8),f=n(270),d=n(14),y=n(264),v=n(310),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var n=[],r=!0,c=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){c=!0,a=t}finally{try{!r&&i.return&&i.return()}finally{if(c)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),g=function get(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var c=Object.getPrototypeOf(t);return null===c?void 0:get(c,e,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function step(r,c){try{var a=e[r](c),o=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(o).then(function(t){step("next",t)},function(t){step("throw",t)});t(o)}("next")})}}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var E=function(t){function CommunityActivity(){var t,e,n;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,CommunityActivity);for(var r=arguments.length,c=Array(r),a=0;a<r;a++)c[a]=arguments[a];return e=n=_possibleConstructorReturn(this,(t=CommunityActivity.__proto__||Object.getPrototypeOf(CommunityActivity)).call.apply(t,[this].concat(c))),n.config={},_possibleConstructorReturn(n,e)}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(CommunityActivity,o["a"].Component),A(CommunityActivity,[{"key":"render","value":function render(){var t=this,e=Object(p.a)("defaultAcitivyPic"),r=o.a.useState(!1),A=b(r,2),g=A[0],E=A[1],w=o.a.useState([]),N=b(w,2),O=N[0],I=N[1],T=o.a.useState({"uid":"","page":1,"rows":10,"sort":"","status":["PUBLISHED","UNDERWAY"],"activity_status":["1"]}),k=b(T,2),C=k[0],S=k[1],D=o.a.useState(0),M=b(D,2),G=M[0],_=M[1],R=o.a.useState([]),j=b(R,2),L=j[0],Y=j[1],Z=o.a.useState([]),x=b(Z,2),W=x[0],P=x[1],z=o.a.useState(!1),B=b(z,2),F=B[0],U=B[1],V=Object(p.a)("defaultTeamLogo"),J=o.a.useRouter().params,H=Object(d.u)(),Q=0;Object(d.z)(0).then(function(t){Q=t});var q,X,K,$,tt=Object(d.t)(),et=(q=_asyncToGenerator(c.a.mark(function _callee(e){var n,r,a,o,i,l,s;return c.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return n={"uid":e,"page":1,"rows":999},t.next=3,Object(f.L)(n);case 3:for(r=t.sent,a=r.activity_users.edges||[],o=[],i=0;i<a.length;i++)l=a[i],(s=l.node)&&o.push(s);return t.abrupt("return",o);case 8:case"end":return t.stop()}},_callee,t)})),X=_asyncToGenerator(c.a.mark(function _callee2(e){return c.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.b)(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee2,t)})),function canPublish(t){return X.apply(this,arguments)}),nt=(K=_asyncToGenerator(c.a.mark(function _callee3(){var n,r,a,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return c.a.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return o&&(C.page=1,S(C),I([])),t.next=3,Object(f.N)(C);case 3:n=t.sent,r=n.activityss||[],a=[],r&&r.length>0&&r.forEach(function(t){var n=t;if(n){var r=n.start_time||"";if("CYCLE"===n.activity_type)(n=n.cycle_activity||{}).activityType="CYCLE";else{var c=n.group;if(c){var o=c.simple_name||c.name||"";c.name=o}}var i=n.file_uploads||[];if(i.length>0){var l=i[0].url;n.picture=Object(d.w)(l)}else{n.picture=""+e.ALL}var s=n.team||[];n.teamLogo=s.logos&&s.logos[0]&&s.logos[0].url?Object(d.w)(s.logos[0].url):V;var u=r||"";r.length>9&&(r=r.substring(0,10),n.startTime=r),n.sortTime=u,Object(d.A)(n.start_time,n.end_time)&&(n.status="ENROLLMENT"),a.push(n)}}),I(o?a:[].concat(_toConsumableArray(O),a));case 8:case"end":return t.stop()}},_callee3,t)})),function loadData(){return K.apply(this,arguments)}),rt=($=_asyncToGenerator(c.a.mark(function _callee4(e){var n;return c.a.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return Object(m.a)(!0),_(e),n=L[e].id||"",C.org_id=[n],S(C),t.next=7,nt(!0);case 7:Object(m.a)(!1);case 8:case"end":return t.stop()}},_callee4,t)})),function communityChange(t){return $.apply(this,arguments)}),ct=o.a.useRef(0);o.a.usePageScroll(function(t){ct.current=t.scrollTop;var e=t.scrollTop;E(e>500)});var at,ot=(at=_asyncToGenerator(c.a.mark(function _callee5(){var e,n,r,a,o,i,l,s;return c.a.wrap(function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:if(0===Q){t.next=3;break}return Object(d.v)(Q,{"nextUrl":"/pages/index/index"}),t.abrupt("return");case 3:return Object(m.a)(!0),t.next=6,et(H.uid);case 6:e=t.sent,U(e),n=J.name,r=J.id||"",a={},o=[],i=[],l=0,r&&n&&(a={"id":r,"name":n},o.push(a.name),i.push(a)),tt&&tt.length>0&&tt.forEach(function(t){var e=t.simple_name||t.name;t.id!==r&&e&&(t.id===H.org_id?(t.isResident=!0,i.unshift(t),o.unshift(e)):(t.isResident=!1,i.push(t),o.push(e)))}),i.forEach(function(t,e){var n=t.id;r===n&&(l=e)}),s=i[l].id||"",_(l),Y(i),P(o),C.org_id=[s],C.uid=H.uid,S(C),nt(!0),Object(m.a)(!1);case 26:case"end":return t.stop()}},_callee5,t)})),function onload(){return at.apply(this,arguments)}),it=o.a.useRef(function(){}),lt=o.a.useRef(0);o.a.useReachBottom(_asyncToGenerator(c.a.mark(function _callee6(){var e;return c.a.wrap(function _callee6$(n){for(;;)switch(n.prev=n.next){case 0:if(!t.pageHide){n.next=2;break}return n.abrupt("return");case 2:if(!((e=document.documentElement.scrollTop||document.body.scrollTop)<lt.current)){n.next=8;break}return lt.current=e,n.abrupt("return");case 8:lt.current=e;case 9:it.current()&&ut();case 11:case"end":return n.stop()}},_callee6,t)})));var st,ut=(st=_asyncToGenerator(c.a.mark(function _callee7(){return c.a.wrap(function _callee7$(t){for(;;)switch(t.prev=t.next){case 0:return C.page+=1,S(function(t){return h({},t,C)}),t.next=4,nt();case 4:case"end":return t.stop()}},_callee7,t)})),function reachBottom(){return st.apply(this,arguments)});o.a.useDidShow(function(){Object(i.a)({"scrollTop":mt.current,"duration":100}),Object(d.L)("机构活动"),t.pageHide=!1,it.current=Object(d.Q)()});var mt=o.a.useRef(0);return o.a.useDidHide(function(){mt.current=ct.current,t.pageHide=!0}),o.a.useEffect(function(){ot()},[]),a.l.createElement(l.a,null,a.l.createElement(l.a,{"className":"content"},a.l.createElement(l.a,{"className":"box"},a.l.createElement(l.a,{"className":"community-short-cut clear"},a.l.createElement(l.a,{"className":"community-short-cut-btn left","onClick":function onClick(){return function createActivity(){F?Object(d.B)("/activityPages/pages/activity_edit"):Object(d.B)("/pages/result?type=createActicityFail")}()}},a.l.createElement(s.a,{"src":n(391),"className":"image"}),a.l.createElement(l.a,{"className":"community-short-cut-txt"},"发布活动")))),a.l.createElement(l.a,{"className":"box"},a.l.createElement(l.a,{"className":"community-page-list"},a.l.createElement(l.a,{"className":"box-main my-integral"},L.length>0&&a.l.createElement(u.a,{"scroll-x":!0,"style":"height:92px;margin-bottom:0px;"},a.l.createElement(l.a,{"className":"container-content clear"},a.l.createElement(l.a,{"className":"my-community-card","style":"width: "+43*(L.length+2)+"%;"},L.map(function(t,e){return t.isResident?a.l.createElement(l.a,{"key":t.id,"style":"width: "+100/(L.length+2)+"%;","onClick":function onClick(){return rt(e)},"className":G==e?"fixed-shequ":"fixed-shequ selected"},a.l.createElement(l.a,{"className":G==e?"text overflow":"text text-fixed overflow"},W[e])):a.l.createElement(l.a,{"key":t.id,"style":"width: "+100/(L.length+2)+"%;","onClick":function onClick(){return rt(e)},"className":G==e?"liked-shequ":"liked-shequ selected"},a.l.createElement(l.a,{"className":G==e?"text overflow":"text text-liked overflow"},W[e]))})))),a.l.createElement(l.a,{"className":"tabs-main tabs-community-activity","style":"display:block;"},O.length>0?a.l.createElement(l.a,{"className":"i-community-activity community-activity-box"},O.map(function(t){return a.l.createElement(v.a,{"item":t,"key":t.id})})):a.l.createElement(l.a,{"className":"i-class i-load-more i-load-more-line"},a.l.createElement(l.a,{"className":"i-load-more-tip"},a.l.createElement(l.a,null,"暂无数据")))))))),g&&a.l.createElement(y.a,null))}},{"key":"componentDidMount","value":function componentDidMount(){g(CommunityActivity.prototype.__proto__||Object.getPrototypeOf(CommunityActivity.prototype),"componentDidMount",this)&&g(CommunityActivity.prototype.__proto__||Object.getPrototypeOf(CommunityActivity.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){g(CommunityActivity.prototype.__proto__||Object.getPrototypeOf(CommunityActivity.prototype),"componentDidShow",this)&&g(CommunityActivity.prototype.__proto__||Object.getPrototypeOf(CommunityActivity.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){g(CommunityActivity.prototype.__proto__||Object.getPrototypeOf(CommunityActivity.prototype),"componentDidHide",this)&&g(CommunityActivity.prototype.__proto__||Object.getPrototypeOf(CommunityActivity.prototype),"componentDidHide",this).call(this)}}]),CommunityActivity}();E.config={}}}]);