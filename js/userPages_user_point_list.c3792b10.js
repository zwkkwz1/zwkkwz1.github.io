(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{"263":function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o(2),r=o(273),i=o(6),a=o(596),c=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}();var s=function(e){function BackTop(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BackTop),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(BackTop.__proto__||Object.getPrototypeOf(BackTop)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BackTop,i["a"].Component),c(BackTop,[{"key":"render","value":function render(){return n.l.createElement(a.a,null,n.l.createElement(a.a,{"style":"bottom:15%;","onClick":function onClick(){return function toTop(){Object(r.a)({"scrollTop":0,"duration":500})}()},"className":"back-top"}))}}]),BackTop}();s.options={"addGlobalClass":!0}},"273":function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o(0),r=void 0,i=void 0,a=function pageScrollTo(e){var t=e.scrollTop,o=e.duration,a=void 0===o?300:o,c=e.success,s=e.fail,l=e.complete;return new Promise(function(e,o){try{if(void 0===t)throw Error('"scrollTop" is required');var u=document.querySelector(".taro-tabbar__panel")||window;r||(r=u===window?function scrollFunc(e){if(void 0===e)return window.pageYOffset;window.scrollTo(0,e)}:function scrollFunc(e){if(void 0===e)return u.scrollTop;u.scrollTop=e});var p=r(),f=t-p,d=a/17,y=Object(n.g)(n.c,d);!function scroll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=p+f*y(t);if(r(o),t<d)i&&clearTimeout(i),i=setTimeout(function(){scroll(t+1)},17);else{var n={"errMsg":"pageScrollTo:ok"};c&&c(n),l&&l(),e(n)}}()}catch(e){var b={"errMsg":"pageScrollTo:fail "+e.message};s&&s(b),l&&l(),o(b)}})}},"680":function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return m});var n=o(4),r=o.n(n),i=o(2),a=o(6),c=o(273),s=o(596),l=o(14),u=o(29),p=o(263),f=o(18),d=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw i}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),b=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,o){return function step(n,r){try{var i=t[n](r),a=i.value}catch(e){return void o(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function UserPointList(){var e,t,o;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserPointList);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=o=_possibleConstructorReturn(this,(e=UserPointList.__proto__||Object.getPrototypeOf(UserPointList)).call.apply(e,[this].concat(r))),o.config={},_possibleConstructorReturn(o,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(UserPointList,a["a"].Component),y(UserPointList,[{"key":"render","value":function render(){var e=this,t=a.a.useState(!1),o=d(t,2),n=o[0],y=o[1],b=a.a.useState([]),m=d(b,2),v=m[0],_=m[1],h=Object(l.u)(),w=0;Object(l.z)(0).then(function(e){w=e});var P,O=(P=_asyncToGenerator(r.a.mark(function _callee(t){var o,n;return r.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.j)(t);case 2:o=e.sent,n=[],0===o.code&&(n=o.data||[]).length>0&&_(n);case 5:case"end":return e.stop()}},_callee,e)})),function loadData(e){return P.apply(this,arguments)}),g=a.a.useRef(0);a.a.usePageScroll(function(e){g.current=e.scrollTop;var t=e.scrollTop;y(t>500)});var j,T=(j=_asyncToGenerator(r.a.mark(function _callee2(){var t;return r.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(0===w){e.next=3;break}return Object(l.v)(w,{"nextUrl":"/userPages/pages/user_index"}),e.abrupt("return");case 3:return Object(u.a)(!0),t=h.uid,e.next=7,O(t);case 7:Object(u.a)(!1);case 8:case"end":return e.stop()}},_callee2,e)})),function onload(){return j.apply(this,arguments)});a.a.useDidShow(function(){Object(c.a)({"scrollTop":k.current,"duration":100}),Object(l.L)("我的积分")});var k=a.a.useRef(0);return a.a.useDidHide(function(){k.current=g.current,e.pageHide=!0}),a.a.useEffect(function(){T()},[]),i.l.createElement(s.a,null,i.l.createElement(s.a,{"className":"body"},i.l.createElement(s.a,{"className":"content"},i.l.createElement(s.a,{"className":"my-total"},v.length>0?v.map(function(e){return i.l.createElement(s.a,{"className":"list clear","key":e.gid,"onClick":function onClick(){return function toDetail(e,t){var o="/userPages/pages/user_point?gid="+e+"&point="+t;Object(l.B)(o)}(e.gid,e.effective_point)}},i.l.createElement(s.a,{"className":"list-l left"},e.simple_name||e.name),i.l.createElement(s.a,{"className":"list-r right"},e.effective_point||0))}):i.l.createElement(s.a,{"className":"i-class i-load-more i-load-more-line"},i.l.createElement(s.a,{"className":"i-load-more-tip"},i.l.createElement(s.a,null,"暂无数据")))))),n&&i.l.createElement(p.a,null))}},{"key":"componentDidMount","value":function componentDidMount(){b(UserPointList.prototype.__proto__||Object.getPrototypeOf(UserPointList.prototype),"componentDidMount",this)&&b(UserPointList.prototype.__proto__||Object.getPrototypeOf(UserPointList.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){b(UserPointList.prototype.__proto__||Object.getPrototypeOf(UserPointList.prototype),"componentDidShow",this)&&b(UserPointList.prototype.__proto__||Object.getPrototypeOf(UserPointList.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){b(UserPointList.prototype.__proto__||Object.getPrototypeOf(UserPointList.prototype),"componentDidHide",this)&&b(UserPointList.prototype.__proto__||Object.getPrototypeOf(UserPointList.prototype),"componentDidHide",this).call(this)}}]),UserPointList}();m.config={}}}]);