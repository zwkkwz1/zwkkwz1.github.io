(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"263":function(e,t){e.exports="data:image/png;base64,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"},"264":function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(2),a=r(274),o=r(6),c=r(598),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var s=function(e){function BackTop(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BackTop),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(BackTop.__proto__||Object.getPrototypeOf(BackTop)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BackTop,o["a"].Component),i(BackTop,[{"key":"render","value":function render(){return n.l.createElement(c.a,null,n.l.createElement(c.a,{"style":"bottom:15%;","onClick":function onClick(){return function toTop(){Object(a.a)({"scrollTop":0,"duration":500})}()},"className":"back-top"}))}}]),BackTop}();s.options={"addGlobalClass":!0}},"274":function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(0),a=void 0,o=void 0,c=function pageScrollTo(e){var t=e.scrollTop,r=e.duration,c=void 0===r?300:r,i=e.success,s=e.fail,u=e.complete;return new Promise(function(e,r){try{if(void 0===t)throw Error('"scrollTop" is required');var l=document.querySelector(".taro-tabbar__panel")||window;a||(a=l===window?function scrollFunc(e){if(void 0===e)return window.pageYOffset;window.scrollTo(0,e)}:function scrollFunc(e){if(void 0===e)return l.scrollTop;l.scrollTop=e});var f=a(),p=t-f,d=c/17,m=Object(n.g)(n.c,d);!function scroll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=f+p*m(t);if(a(r),t<d)o&&clearTimeout(o),o=setTimeout(function(){scroll(t+1)},17);else{var n={"errMsg":"pageScrollTo:ok"};i&&i(n),u&&u(),e(n)}}()}catch(e){var y={"errMsg":"pageScrollTo:fail "+e.message};s&&s(y),u&&u(),r(y)}})}},"317":function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"k",function(){return c}),r.d(t,"d",function(){return i}),r.d(t,"e",function(){return s}),r.d(t,"o",function(){return u}),r.d(t,"m",function(){return l}),r.d(t,"l",function(){return f}),r.d(t,"i",function(){return p}),r.d(t,"j",function(){return d}),r.d(t,"h",function(){return m}),r.d(t,"g",function(){return y}),r.d(t,"f",function(){return b}),r.d(t,"c",function(){return h}),r.d(t,"n",function(){return w}),r.d(t,"b",function(){return v});var n=r(3),a=r(5),o=function addFamilyUser(e){return n.a.post("family_user/scan",e)},c=function loadUserCon(e){return n.a.httpGql(a.fc,e)},i=function createFamilyUser(e){return n.a.post("family_user",e)},s=function disbindFamily(e){return n.a.delete("family/"+e)},u=function updateFamilyDetail(e){return n.a.put("family/"+e.id,e)},l=function setRoleForFamilyUser(e){return n.a.post("family_role",e)},f=function quitFamily(e){return n.a.delete("family_user/"+e)},p=function loadFamilyUser(e){return n.a.httpGql(a.Z,e)},d=function loadFamilyUsers(e){return n.a.httpGql(a.ab,e)},m=function loadFamilyRoles(e){return n.a.httpGql(a.Y,e)},y=function loadFamilyConnections(e){return n.a.httpGql(a.X,e)},b=function handelFamilyConnections(e,t){return n.a.put(e,t)},h=function changeFamilyRole(e,t){return n.a.put("family/"+e+"/changeRole",t)},w=function transferFamilyPoint(e){return n.a.post("family_user/transferPoint",e)},v=function buildFamily(e){return n.a.post("family",e)}},"366":function(e,t,r){},"717":function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return j});var n=r(4),a=r.n(n),o=r(2),c=r(6),i=r(255),s=r(274),u=r(598),l=r(599),f=r(10),p=r(14),d=r(29),m=r(317),y=r(264),b=(r(366),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),h=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),v=function get(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function step(n,a){try{var o=t[n](a),c=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(c).then(function(e){step("next",e)},function(e){step("throw",e)});e(c)}("next")})}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function(e){function FamilyUsers(){var e,t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FamilyUsers);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=r=_possibleConstructorReturn(this,(e=FamilyUsers.__proto__||Object.getPrototypeOf(FamilyUsers)).call.apply(e,[this].concat(a))),r.config={},_possibleConstructorReturn(r,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(FamilyUsers,c["a"].Component),w(FamilyUsers,[{"key":"render","value":function render(){var e=this,t=c.a.useState(!1),n=h(t,2),w=n[0],v=n[1],j=c.a.useState([]),x=h(j,2),g=x[0],k=x[1],O=c.a.useState({"page":1,"rows":10,"sort":"","order":"","id":"","isNew":0}),A=h(O,2),E=A[0],F=A[1],_=c.a.useState(!0),T=h(_,2),C=T[0],N=T[1],P=c.a.useState("0"),U=h(P,2),B=U[0],S=U[1],L=c.a.useState(""),R=h(L,2),D=R[0],I=R[1],M=c.a.useState({}),J=h(M,2),q=J[0],G=J[1],V=c.a.useRouter().params,X=Object(p.u)(),H=0;Object(p.z)(0).then(function(e){H=e});var z,W,Z,K,Y=(z=_asyncToGenerator(a.a.mark(function _callee(t){var r,n,o,i,s,u,l,f,y;return a.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.wechat_user.uid,"1"!==B){e.next=37;break}if(X.uid===r){e.next=23;break}return n="",o="",r===q.family_uid?(o="确认解除关联吗",n="family_connection/"+r+"/disassociate"):(o="确认关联此成员吗",n="family_connection/"+r+"/associate"),e.next=8,Object(d.b)({"title":"提示","content":o});case 8:if(!e.sent.confirm){e.next=21;break}return e.next=12,Object(m.f)(n,{"uid":X.uid});case 12:if(0!==(i=e.sent).code){e.next=20;break}return e.next=16,Object(d.c)("操作成功!");case 16:return e.next=18,c.a.navigateBack({"delta":1});case 18:e.next=21;break;case 20:Object(d.c)(i.msg);case 21:e.next=35;break;case 23:return s="family_connection/"+r+"/disassociate",e.next=26,Object(m.f)(s,{"uid":X.uid});case 26:if(0!==(u=e.sent).code){e.next=34;break}return e.next=30,Object(d.c)("操作成功!");case 30:return e.next=32,c.a.navigateBack({"delta":1});case 32:e.next=35;break;case 34:Object(d.c)(u.msg);case 35:e.next=61;break;case 37:if(X.uid===r){e.next=61;break}if("changeRole"!==D){e.next=60;break}return e.next=41,Object(d.b)({"title":"提示","content":"确定选择亲友为新管理员，你将自动放弃管理员身份"});case 41:if(!e.sent.confirm){e.next=58;break}return Object(d.a)(!0),l=E.id,f={"uid":r},e.next=48,Object(m.c)(l,f);case 48:if(y=e.sent,Object(d.a)(!1),0!==y.code){e.next=57;break}return e.next=53,Object(d.c)("转让成功");case 53:return e.next=55,c.a.navigateBack({"delta":1});case 55:e.next=58;break;case 57:Object(d.c)(y.data);case 58:e.next=61;break;case 60:"transferScore"===D&&t.wechat_user.score>0&&Object(p.B)("/familyPages/pages/select_receive_user?user_id="+r+"&id="+E.id+"&name="+(t.wechat_user.username||t.wechat_user.nickname||"佚名"));case 61:case"end":return e.stop()}},_callee,e)})),function todo(e){return z.apply(this,arguments)}),Q=function sortData(e){var t=[],r=[];return e.forEach(function(e){var n=e.role_id;"MANAGER"===n?r.push(e):"MEMBER"===n&&t.push(e)}),[].concat(r,t)},$=(W=_asyncToGenerator(a.a.mark(function _callee2(){var t,r,n,o,c,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return i&&(E.page=1,F(E),k([])),e.next=3,Object(m.j)(E);case 3:t=e.sent,r=t.family_users.edges||[],n=parseInt(t.family_users.totalCount)||0,E.page*E.rows>=n?N(!1):N(!0),o=[],r&&r.forEach(function(e){var t=e.node;t&&(t.wechat_user&&t.wechat_user.extra&&t.wechat_user.extra.avatar&&-1===t.wechat_user.extra.avatar.indexOf("http://")&&-1===t.wechat_user.extra.avatar.indexOf("https://")&&(t.wechat_user.extra.avatar=""+f.c+t.wechat_user.extra.avatar+"&type=sm"),"changeRole"===V.type?t.wechat_user.mobile&&t.wechat_user.uid!==X.uid&&o.push(t):t.wechat_user.mobile||o.push(t))}),c=[],c=i?o:[].concat(_toConsumableArray(g),o),c=Q(c),k([].concat(_toConsumableArray(c)));case 13:case"end":return e.stop()}},_callee2,e)})),function loadData(){return W.apply(this,arguments)}),ee=(Z=_asyncToGenerator(a.a.mark(function _callee3(t){var r;return a.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.g)({"uid":t});case 2:return r=(r=e.sent).family_connections||{},e.abrupt("return",1===r.is_connecting?r:{});case 5:case"end":return e.stop()}},_callee3,e)})),function loadFamilyConnection(e){return Z.apply(this,arguments)}),te=(K=_asyncToGenerator(a.a.mark(function _callee4(t){var r;return a.a.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.i)({"uid":t});case 2:return r=e.sent,e.abrupt("return",r.family_user||{});case 4:case"end":return e.stop()}},_callee4,e)})),function loadFamily(e){return K.apply(this,arguments)}),re=c.a.useRef(0);c.a.usePageScroll(function(e){re.current=e.scrollTop;var t=e.scrollTop;v(t>500)});var ne,ae=(ne=_asyncToGenerator(a.a.mark(function _callee5(){var t,r,n,o;return a.a.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:if(0===H){e.next=3;break}return Object(p.v)(H,{"nextUrl":"/pages/index/index"}),e.abrupt("return");case 3:if(Object(d.a)(!0),t=V.title||"管理员设置",S(V.isInstead||"0"),r="","管理员转让"===t?r="changeRole":"转出积分"===t&&(r="transferScore",E.isNew=1),Object(i.a)({"title":t}),I(r),!V.isInstead||"1"!==V.isInstead){e.next=19;break}return e.next=13,ee(X.uid);case 13:return n=e.sent,G(n),e.next=17,te(X.uid);case 17:(o=e.sent).family_id&&(V.id=o.family_id);case 19:V.id&&(E.id=V.id,F(E),$()),Object(d.a)(!1);case 21:case"end":return e.stop()}},_callee5,e)})),function onload(){return ne.apply(this,arguments)}),oe=c.a.useRef(function(){}),ce=c.a.useRef(0);c.a.useReachBottom(_asyncToGenerator(a.a.mark(function _callee6(){var t;return a.a.wrap(function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:if(!e.pageHide){r.next=2;break}return r.abrupt("return");case 2:if(!((t=document.documentElement.scrollTop||document.body.scrollTop)<ce.current)){r.next=8;break}return ce.current=t,r.abrupt("return");case 8:ce.current=t;case 9:oe.current()&&se();case 11:case"end":return r.stop()}},_callee6,e)})));var ie,se=(ie=_asyncToGenerator(a.a.mark(function _callee7(){return a.a.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=5;break}return E.page+=1,F(function(e){return b({},e,E)}),e.next=5,$();case 5:case"end":return e.stop()}},_callee7,e)})),function reachBottom(){return ie.apply(this,arguments)});c.a.useDidShow(function(){Object(s.a)({"scrollTop":ue.current,"duration":100}),E.id&&$(!0),e.pageHide=!1,oe.current=Object(p.Q)()});var ue=c.a.useRef(0);return c.a.useDidHide(function(){ue.current=re.current,e.pageHide=!0}),c.a.useEffect(function(){ae()},[]),o.l.createElement(u.a,null,o.l.createElement(u.a,{"className":"body member-body"},"transferScore"===D?o.l.createElement(u.a,{"className":"member-stat"}," 可转出积分的成员 "):o.l.createElement(u.a,{"className":"member-stat"}," 成员人数（",g.length||0,"人） "),g.length>0&&o.l.createElement(u.a,{"className":"item-wrapper"},g.map(function(e){return o.l.createElement(u.a,{"className":"item-list","key":e.id},o.l.createElement(u.a,{"className":"item-info","onClick":function onClick(){return Y(e)},"style":"left:"+(e.left?e.left/2:0)+"px;"},o.l.createElement(l.a,{"className":"info-img","src":e.wechat_user&&e.wechat_user.extra?e.wechat_user.extra.avatar:r(263)}),o.l.createElement(u.a,{"className":"info-wrapper"},o.l.createElement(u.a,{"className":"info-desc"},o.l.createElement(u.a,{"style":"overflow: hidden;word-break: keep-all;text-overflow: ellipsis;white-space: nowrap;","className":"name"},e.wechat_user.username||e.wechat_user.nickname||"佚名")),"0"===B?o.l.createElement(o.l.Fragment,null,"MANAGER"===e.role_id&&"changeRole"===D&&o.l.createElement(u.a,{"className":"info-content"},"管理员"),"MEMBER"===e.role_id&&"changeRole"===D&&o.l.createElement(u.a,{"className":"info-content"},"成员"),"transferScore"===D&&o.l.createElement(u.a,{"className":"info-content"},"积分："+e.wechat_user.score)):o.l.createElement(o.l.Fragment,null,e.wechat_user.uid===q.family_uid&&o.l.createElement(u.a,{"className":"info-content"},"已关联")))))})),0===g.length&&o.l.createElement(u.a,{"className":"i-class i-load-more i-load-more-line"},o.l.createElement(u.a,{"className":"i-load-more-tip"},o.l.createElement(u.a,null,"暂无人员")))),w&&o.l.createElement(y.a,null))}},{"key":"componentDidMount","value":function componentDidMount(){v(FamilyUsers.prototype.__proto__||Object.getPrototypeOf(FamilyUsers.prototype),"componentDidMount",this)&&v(FamilyUsers.prototype.__proto__||Object.getPrototypeOf(FamilyUsers.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){v(FamilyUsers.prototype.__proto__||Object.getPrototypeOf(FamilyUsers.prototype),"componentDidShow",this)&&v(FamilyUsers.prototype.__proto__||Object.getPrototypeOf(FamilyUsers.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){v(FamilyUsers.prototype.__proto__||Object.getPrototypeOf(FamilyUsers.prototype),"componentDidHide",this)&&v(FamilyUsers.prototype.__proto__||Object.getPrototypeOf(FamilyUsers.prototype),"componentDidHide",this).call(this)}}]),FamilyUsers}();j.config={}}}]);