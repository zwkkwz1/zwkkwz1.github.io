(self.webpackChunkgod_ticket_land=self.webpackChunkgod_ticket_land||[]).push([[179],{225:(e,n,t)=>{const o={finger:{hide:null,clickEvent:null},mantle:{clickEvent:null},cardZm:{clickEvent:null},radarBeginImgBtn:{completeEvent:null,hideBtn:null}};function l(){"function"==typeof o.finger.hide&&(o.finger.hide(),o.finger.hide=null),o.finger.clickEvent=null}function i(){"function"==typeof o.finger.clickEvent&&o.finger.clickEvent()}function a(){"function"==typeof o.mantle.clickEvent&&o.mantle.clickEvent()}function s(){"function"==typeof o.cardZm.clickEvent&&o.cardZm.clickEvent()}function c(e,n,t){let l=document.getElementById("finger");for(let n in e)l.style[n]=e[n];return l.style.display="inherit","function"==typeof n&&(o.finger.clickEvent=n),t&&(o.finger.hide=function(){l.style.display="none",l=null}),l}const r=document.body.offsetWidth,d=document.body.offsetHeight;let u=!1,m=!1,g=null,f=null,p=null,y=null,h=null,b={radarBegin:!1,radar:!1,posImg:!1,rollingOverBtnImg:!1,ruleImg:!1};const k=[{left:"0.46rem",top:"23%"},{left:"0.1rem",top:"46%"},{left:"0.68rem",top:"49%"},{left:"0.4rem",top:"65%"},{left:"0.60rem",top:"80%"}],I=[{back:"http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/2649906ba904d95695ec73b171636da2.png",frontage:"http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/fec457fda7f08adf44f4a5ebfb8dfebf.png"},{back:"http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/d569c5c85da9c7692dece1fcae8c71f6.png",frontage:"http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/403f23050ad9644b2b461f3761e09f19.png"},{back:"http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/cd5bb0d10698efabfde201c26c0a2c13.png",frontage:"http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/00c04271231a7b8edd12ca5e81aff335.png"},{back:"http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/9525d58e5557b381549e4e7666dbc381.png",frontage:"http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/173aba60dd7cec704efc3f688a50865f.png"},{back:"http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/e58a6ac11a8fa7fcc64cd99a2747ae56.png",frontage:"http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/b056e7e4edba10b693f1620d54ad77c9.png"}],v=[{back:null,frontage:null,backInDom:!1,frontageInDom:!1,url:"https://market.m.taobao.com/app/miniapp-biz/qrcode/index.html?_ariver_appid=3000000028379505&nbsv=0.1.2109231403.28&_mp_code=tb&query=clearStorage%3D1%26merchantNum%3D1900110%26platform%3D1%26type%3D0&nbsource=debug&nbsn=DEBUG&transition=present"},{back:null,frontage:null,backInDom:!1,frontageInDom:!1,url:"https://www.baidu.com"},{back:null,frontage:null,backInDom:!1,frontageInDom:!1,url:"https://www.bilibili.com/v/dance/?spm_id_from=666.4.b_7072696d6172794368616e6e656c4d656e75.17"},{back:null,frontage:null,backInDom:!1,frontageInDom:!1,url:"https://www.bilibili.com/anime/?spm_id_from=666.5.b_7072696d6172794368616e6e656c4d656e75.8"},{back:null,frontage:null,backInDom:!1,frontageInDom:!1,url:"https://www.bilibili.com/"}];let _={},E=[],B={};const w=function(){const e=[];let n=null;return{runTaskList:function(){e.forEach((function(e){n[e.key](e.options)})),e=[]},runTask:function(t,o){n?n[t](o):e.push({key:t,options:o})},setModule:function(e){n=e}}}();function D(){b.ruleImg?p.style.display="inherit":(b.ruleImg=!0,document.body.appendChild(p));let e=document.getElementById("mantle");e.style.display="inherit",o.mantle.clickEvent=function(){e.style.display="none",p.style.display="none",o.mantle.clickEvent=null,e=null},document.getElementById("finger").style.display="none"}function L(e){document.getElementById("anchor").style.display="inherit",o.cardZm.clickEvent=function(){T(e)}}function T(e){w.runTask("fed",{event_name:"点击领券次数",event_code:"gain_ticket_member_click",event_label:"30",event_trigger_mode:"click",url:"./index"}),window.open(e)}function x(e,n,t){w.runTask("fed",{event_name:"完成的卡牌次数",event_code:"gain_ticket_number_open",event_label:"30",event_trigger_mode:"open",url:"./index"}),L(n.url);const l=n.frontage,i=n.back;l.style.transform="rotateY(90deg)",i.style.transform="rotateY(90deg)",function(e){E.push({pos:_,urls:e,isReceive:!1}),localStorage.setItem("cardCatch",JSON.stringify(E))}(t),setTimeout((()=>{const n=document.getElementById("btnGroup");0===n.children.length&&O(),n.style.top=e+"px",n.style.display="flex",l.style.zIndex=1400,i.style.display="none",l.style.transform="rotateY(0deg)",i.style.transform="rotateY(0deg)",o.mantle.clickEvent=function(){j()}}),1e3)}function C(e){let n=document.getElementById("mantle");n.style.display="inherit",e&&(o.mantle.clickEvent=function(){n=null,j()}),l()}function z(e,n){C(!0),L(e.url),B=e,_=n,e.frontage.style.transitionProperty="none",B.frontage.classList.remove("zm-small-jump"),e.frontage.classList.remove("zm-small"),e.frontage.classList.add("img-big"),e.frontage.style.width="0.66rem",e.frontage.style.zIndex=1100;const t=document.getElementById("btnGroup");setTimeout((function(){t.style.top=.5*d+.5*e.frontage.height+12+"px",t.style.display="flex"}),100),0===t.children.length&&O(),window.requestAnimationFrame((function(){e.frontage.style.transitionProperty="all"}))}let S=!1,q=null;function j(){document.getElementById("mantle").style.display="none",document.getElementById("btnGroup").style.display="none",o.mantle.clickEvent=null,o.cardZm.clickEvent=null,document.getElementById("anchor").style.display="none",B.frontage.classList.remove("zm-big"),B.frontage.classList.add("zm-small");let e=B,n=_;B.frontage.classList.contains("img-big")&&B.frontage.classList.remove("img-big"),e.frontage.onclick=null,q=setTimeout((function(){e.frontage.classList.add("zm-small-jump"),e.frontage.onclick=function(){z(e,n)}}),1e3),B.frontage.style.width="0.1rem",B.frontage.style.left=_.left,B.frontage.style.top=_.top,B.frontage.style.zIndex=100,_={},B={},Z()}function O(){const e=J("./asset/obtain_card.png"),n=J("./asset/summon_again.png");e.style.width="0.36rem",n.style.width="0.36rem";const t=document.getElementById("btnGroup");t.appendChild(e),t.appendChild(n),e.onclick=function(){T(B.url)},n.onclick=function(){j()}}function G(){if(C(!1),0===v.length)return;const e=Math.round(Math.random()*(v.length-1));B=v.splice(e,1)[0];let n=I.splice(e,1)[0];B.left=_.left,B.top=_.top,B.backInDom=!0,B.back.style.left=_.left,B.back.style.top=_.top,document.body.appendChild(B.back),setTimeout((()=>{!function(e,n){const t=e.back;t.classList.add("img-big"),h||(h=J("./asset/rollingOver.png",["img-default","rolling-over"])),setTimeout((()=>{let o=.5*d+.5*t.height+12;h.style.top=o+"px",b.rollingOverBtnImg?(h.style.display="inherit",h.onclick=function(){x(o,e,n),h.style.display="none"}):(b.rollingOverBtnImg=!0,document.body.appendChild(h),h.onclick=function(){x(o,e,n),h.style.display="none"}),document.body.appendChild(e.frontage),e.frontageInDom=!0}),1e3)}(B,n)}),100)}function M(){return!v.some((e=>!e.backInDom||!e.frontageInDom))}function Y(){f.style.display="none",l();const e=document.getElementById("radarBox");e.style.display="inherit",e.style.background="rgb(0 0 0 / 40%)",b.radar||(b.radar=!0,e.appendChild(g)),setTimeout((function(){function n(){e.style.display="none",0!==k.length&&(_=k.splice(0,1)[0],document.getElementById("mantle").style.display="inherit",b.posImg||(b.posImg=!0,y.onclick=function(){G(),y.style.display="none"},document.body.appendChild(y),setTimeout((function(){l()}),3e3)),y.style.display="inherit",y.style.zIndex=1301,y.style.left=_.left,y.style.top=_.top,c({left:_.left,top:`calc(${_.top} + 0.1rem)`},(function(){G(),y.style.display="none"}),!0))}if(M())n();else var t=setInterval((()=>{M()&&(n(),clearInterval(t))}),1e3)}),2e3)}function Z(){0!==v.length&&E.length!==v.length?b.radarBegin?f.style.display="inherit":(c({},Y,!0),b.radarBegin=!0,f?(f.onclick=Y,document.body.appendChild(f)):o.radarBeginImgBtn.completeEvent=function(){f.onclick=Y,document.body.appendChild(f)}):function(){if(S)return;S=!0;let e=document.getElementById("promptText");e.style.display="inherit",e.style.opacity=1,setTimeout((function(){e.style.opacity=0,setTimeout((function(){e.style.display="none",e=null}),1e3)}),1e3)}()}function P(){m&&u&&I.forEach((function(e,n){W(e.back,["img-pos","bm","img-default"]).then((function(e){v[n].backInDom=!0,v[n].back=e})),W(e.frontage,["img-pos","zm-big","img-default"]).then((function(e){v[n].frontageInDom=!0,v[n].frontage=e}))}))}function N(e,n=1,t=!1){const o=document.getElementById("eyes");if(!o)return window.requestAnimationFrame((function(){F()})),!1;const l=d/2-e/2*r,i=document.getElementById("bgBottom"),a=document.getElementById("bgTop");return o.style.transitionDuration=i.style.transitionDuration=a.style.transitionDuration=n+"s",o.style.height=e+"rem",i.style.height=a.style.height=l+"px",t&&setTimeout((function(){!function(){const e=document.getElementById("eyes"),n=document.getElementById("bgBottom"),t=document.getElementById("bgTop");e.style.transitionDuration=n.style.transitionDuration=t.style.transitionDuration="1s",e.style.height=d+"px",e.style.opacity=0,t.style.height=n.style.height=0,setTimeout((function(){e.style.display="none",t.style.display=n.style.display="none"}),1e3),setTimeout((()=>{Z()}),200)}()}),n+200),!0}let A=0;function F(){let e=N(0),n=!1,t=!1;function o(){(function(){const e=(new Date).getTime();return e-A<800?(A=0,!0):(A=e,!1)})()&&(n=!0,t=!0,N(.5,.6,n))}if(document.body.addEventListener("click",o),e){setTimeout((function(){N(.5)}),20);let e=0;!function n(){setTimeout((function(){e++;let l=.05,i=!1;1&e?l=.05:2===e?(l=.55,g&&f&&(i=!0)):e>=4&&(l=.6,g&&f&&(i=!0)),t||N(l,.6+.2*e,i),i?document.body.removeEventListener("click",o):n()}),800+200*e)}()}}function J(e,n){let t=document.createElement("img");return t.src=e,n&&n.length>0&&n.forEach((e=>{t.classList.add(e)})),t}function W(e,n){return new Promise((function(t,o){let l=document.createElement("img");l.src=e,n&&n.length>0&&n.forEach((e=>{l.classList.add(e)})),l.onload=function(e){console.log(e),t(l),l.onload=null}}))}window.onload=function(){W("http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/cf1d8aeaadf697c38730061650ecc053.png",["bg-map"]).then((function(e){document.body.appendChild(e),setTimeout((function(){document.getElementById("wl").style.opacity=0}),1e3),function(){let e=localStorage.getItem("cardCatch"),n=localStorage.getItem("ticketId");e?E=JSON.parse(e):(localStorage.setItem("cardCatch",[]),E=[]),function(){const e=[];E.forEach((function(n){I.some((function(t,o){if(t.back===n.urls.back&&t.frontage===n.urls.frontage)return e.push({index:o,pos:n.pos}),!0}))}));const n=new WeakMap;function t(){let e=0;for(;e<v.length;)1===n.get(v[e])?(v.splice(e,1),I.splice(e,1),k.splice(0,1)):e++;u=!0,P()}0===e.length?t():e.forEach((function(o){const l=o.index,i=I[o.index];n.set(v[l],1),W(i.frontage,["img-pos","zm-small-jump","img-default","zm-small"]).then((function(n){v[l].frontageInDom=!0,n.style.zIndex=100,n.style.width="0.1rem",n.style.left=o.pos.left,n.style.top=o.pos.top,n.style.transform="rotateY(0deg)",v[l].frontage=n;const i=v[l];console.log(i.frontage),document.body.appendChild(v[l].frontage),n.onclick=function(){z(i,o.pos)},function(e){return!e.some((function(e){const n=e.index;return!v[n].frontageInDom}))}(e)&&t()}))}))}(),t.e(216).then(t.t.bind(t,883,23)).then((function(e){w.setModule(e.default),w.runTask("setPosition",!1),w.runTask("setConfig",{is_prod:!1,runtime_env:"pc",merchant_id:"未知",distinct_id:"未知",act_id:"未知",member_id:"未知",platform_app:"互动营销_资生堂_菲婷丝朋友圈神券大陆",platform_app_code:"hdyx_zst_ftspyqsjdl",platform_app_version:"1.0",application_dep_platform:"other",platform_business:"other",application_label:"187,189,62,68,89,191",is_interactive:!0,nick:"未知",mix_nick:"未知",act_name:"未知",open_id:"未知",phone:"未知",ouid:"未知",provider:"未知",open_type:1}),w.runTask("fed",{event_name:"互动营销平台_访问次数",event_code:"hdyx_pv",event_label:"30",event_trigger_mode:"open",url:"./index"}),w.runTaskList()})),n||(localStorage.setItem("ticketId",(new Date).getTime()),w.runTask("fed",{event_name:"互动营销平台_访问人数",event_code:"hdyx_uv",event_label:"30",event_trigger_mode:"open",url:"./index"})),document.getElementById("anchor").addEventListener("click",s),document.getElementById("finger").addEventListener("click",i),document.getElementById("ruleLogo").addEventListener("click",D),document.getElementById("mantle").addEventListener("click",a)}(),window.performance&&window.performance.navigation&&2===window.performance.navigation.type&&Z(),W("http://enbrands-2.oss-cn-shanghai.aliyuncs.com/user/7dec83d75d5b260c324582131102a68c.png",["radar"]).then((function(e){g=e,W("./asset/pos.png",["pos","img-default"]).then((function(e){y=e,m=!0,P()}))})),W("./asset/radarBeginImg.png",["radar-begin","img-default"]).then((function(e){f=e,"function"==typeof o.radarBeginImgBtn.completeEvent&&o.radarBeginImgBtn.completeEvent(),"function"==typeof o.radarBeginImgBtn.hideBtn&&o.radarBeginImgBtn.hideBtn()})),[{url:"./asset/fino.png",classList:["logo","logo-fino"]},{url:"./asset/sm.png",classList:["logo","logo-sm"]},{url:"./asset/senka.png",classList:["logo","logo-senka"]},{url:"./asset/hand.png",classList:["logo","logo-hand"]},{url:"./asset/tsubaki.png",classList:["logo","logo-tsubaki"]},{url:"./asset/kur.png",classList:["logo","logo-kur"]},{url:"./asset/quir.png",classList:["logo","logo-quir"]},{url:"./asset/cherie.png",classList:["logo","logo-cherie"]},{url:"./asset/js.png",classList:["logo","logo-js"]},{url:"./asset/uno.png",classList:["logo","logo-uno"]}].forEach((function(e){const n=J(e.url,e.classList);document.body.appendChild(n)})),p=J("./asset/rule.png",["img-pos","img-default","img-big"])})),window.performance&&window.performance.navigation&&2===window.performance.navigation.type?function(){const e=document.getElementById("eyes"),n=document.getElementById("bgBottom"),t=document.getElementById("bgTop");e.style.display="none",t.style.display=n.style.display="none"}():F()}}},e=>{e(e.s=225)}]);